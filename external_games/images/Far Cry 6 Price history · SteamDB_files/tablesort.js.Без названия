"use strict";(function(){function c(t,n){if(!(this instanceof c))return new c(t,n);if(!t||t.tagName!=="TABLE")throw new Error("Element must be a table");this.init(t,n||{})}var m=[],s=function(t){var n;return!window.CustomEvent||typeof window.CustomEvent!="function"?(n=document.createEvent("CustomEvent"),n.initCustomEvent(t,!1,!1,void 0)):n=new CustomEvent(t),n},u=function(t){return t.getAttribute("data-sort")||t.textContent||t.innerText||""},x=function(t,n){return t=t.trim().toLowerCase(),n=n.trim().toLowerCase(),t===n?0:t<n?1:-1},g=function(t,n){return[].slice.call(t).find(function(e){return e.getAttribute("data-sort-column-key")===n})},E=function(t,n){return function(e,i){var l=t(e.td,i.td);return l===0?n?i.index-e.index:e.index-i.index:l}};c.extend=function(t,n,e){if(typeof n!="function"||typeof e!="function")throw new Error("Pattern and sort must be a function");m.push({name:t,pattern:n,sort:e})},c.prototype={init:function(t,n){var e=this,i,l,d,r;if(e.table=t,e.thead=!1,e.options=n,t.rows&&t.rows.length>0&&(t.tHead&&t.tHead.rows.length>0?(i=t.tHead.rows[t.tHead.rows.length-1],e.thead=!0):i=t.rows[0]),!!i){var v=function(){e.current&&e.current!==this&&(e.current.classList.remove("sort-up"),e.current.classList.remove("sort-down")),e.current=this,e.sortTable(this)};for(d=0;d<i.cells.length;d++)r=i.cells[d],r.classList.contains("no-sort")||(r.classList.add("sort-header"),r.setAttribute("role","columnheader"),r.tabIndex=0,r.addEventListener("click",v,!1),r.classList.contains("sort-default")&&(l=r));l&&(e.current=l,e.sortTable(l))}},sortTable:function(t,n){var e=this,i=t.getAttribute("data-sort-column-key"),l=t.cellIndex,d=x,r="",v=[],o=e.thead?0:1,h;if(e.table.dispatchEvent(s("beforeSort")),n?h=t.classList.contains("sort-up")?"sort-up":"sort-down":(t.classList.contains("sort-up")?h="sort-down":t.classList.contains("sort-down")?h="sort-up":h=e.options.descending?"sort-up":"sort-down",t.classList.remove(h==="sort-down"?"sort-up":"sort-down"),t.classList.add(h)),!(e.table.rows.length<2)){for(var f;v.length<3&&o<e.table.tBodies[0].rows.length;)i?f=g(e.table.tBodies[0].rows[o].cells,i):f=e.table.tBodies[0].rows[o].cells[l],r=f?u(f):"",r=r.trim(),r.length>0&&v.push(r),o++;if(v){for(o=0;o<m.length;o++)if(r=m[o],v.every(r.pattern)){d=r.sort;break}for(e.col=l,o=0;o<e.table.tBodies.length;o++){var p=[],b={},a,w=0,L=0;for(a=0;a<e.table.tBodies[o].rows.length;a++){var f;r=e.table.tBodies[o].rows[a],r.classList.contains("no-sort")?b[w]=r:(i?f=g(r.cells,i):f=r.cells[e.col],p.push({tr:r,td:f?u(f):"",index:w})),w++}for(h==="sort-down"?(p.sort(E(d,!0)),p.reverse()):p.sort(E(d,!1)),a=0;a<w;a++)b[a]?(r=b[a],L++):r=p[a-L].tr,e.table.tBodies[o].appendChild(r)}e.table.dispatchEvent(s("afterSort"))}}},refresh:function(){this.current!==void 0&&this.sortTable(this.current,!0)}},typeof module<"u"&&module.exports?module.exports=c:window.Tablesort=c})(),function(){var c=function(s){return s.replace(/[^\-?0-9.]/g,"")},m=function(s,u){return s=parseFloat(s),u=parseFloat(u),s=isNaN(s)?0:s,u=isNaN(u)?0:u,s-u};Tablesort.extend("number",function(s){return s.match(/^-?(\d)*-?([,\.]){0,1}-?(\d)+([E,e][\-+][\d]+)?%?$/)},function(s,u){return s=c(s),u=c(u),m(u,s)})}();
